{% extends 'base.html' %} {% block content %}
<div class="container">
	<h4 class="cursive">{{ page_title }}</h4>
    {% if errors %}
    <span>{{ errors }}</span>
    {% endif %}
	<div class="row">
		<form action="{{ url_for('update_recipe', recipe_id=recipe._id) }}" method="POST" class="col s12">
			<!-- RECIPE NAME -->
			<div class="row">
				<div class="input-field col s12">
					<i class="material-icons prefix">assignment</i>
					<input id="icon_prefix" name="recipe_name" type="text" maxlength="50" value="{{recipe.recipe_name}}" />
					<label for="icon_prefix">Recipe Name</label>
				</div>
			</div>
			<!-- RECIPE DESCRIPTION -->
			<div class="row">
				<div class="input-field col s12">
					<i class="material-icons prefix">subject</i>
					<input
                    name="recipe_description" id="icon_prefix2" maxlength="185" type="text" value="{{recipe.recipe_description}}"></input>
					<label for="icon_prefix2">Recipe Description</label>
				</div>
			</div>
			<!-- RECIPE COST & TIME NO SLIDERS -->
            <div class="row">
                <!-- <div class="input-field col s5 m6">
                    <i class="material-icons prefix">attach_money</i>
                    <input id="cost_icon_prefix" name="recipe_cost" maxlength="185" type="text" value="{{recipe.recipe_cost}}" required
                    ></input>
                    <label for="cost_icon_prefix">Cost</label>
                </div> -->
                    <div class="input-field col s5 m6">
                        <i class="material-icons prefix">attach_money</i>
                        <select id="recipe_cost" name="recipe_cost" value="{{recipe_cost}}">
                            <option value="{{recipe.recipe_cost}}" disabled selected>{{recipe.recipe_cost}}</option>
                            <option value="£">£</option>
                            <option value="££">££</option>
                            <option value="£££">£££</option>
                        </select>
                        <label>Cost</label>
                    </div>          
                    <div class="input-field col s6 m6">
                    <i class="material-icons prefix">access_time</i>
                    <input id="time_icon_prefix" name="recipe_time" maxlength="185" type="text" value="{{recipe.recipe_time}}" required
                    ></input>
                    <label for="time_icon_prefix">Time (mins)</label>
                </div>
            </div>
			<!-- IMAGE/CUISINE SELECT -->
			<div class="row">
				<div class="input-field col s11 m10">
					<i class="material-icons prefix">camera_alt</i>
					<select id="cuisine_image" name="recipe_cuisine_image" class="icons" required>
                    <option value="" disabled selected>Choose your image!</option>
                    {% for cuisine in cuisines %}
                        {% if cuisine.cuisine_image == recipe.recipe_cuisine_image %}
                            <option value="{{cuisine.cuisine_image}}" data-icon="{{cuisine.cuisine_image}}" selected >{{cuisine.cuisine_name}}</option>
                        {% else %}
                            <option value="{{cuisine.cuisine_image}}" data-icon="{{cuisine.cuisine_image}}" >{{cuisine.cuisine_name}}</option>
                        {% endif %}  
                    {% endfor %} 
            </select>
					<label>Images in select</label>
				</div>
			</div>
			<!-- Switches -->
			<div class="row">
				<div class="switch col s6">
					<i class="material-icons prefix weight">fitness_center</i>
					<label class="healthy-label">
                {% if recipe.is_healthy %}
            <input id="is_healthy" name="is_healthy" type="checkbox" checked/>
                {% else %}
            <input id="is_healthy" name="is_healthy" type="checkbox"/>
                {% endif %}
            <span class="lever"></span>
            Healthy!
          </label>
				</div>
				<div class="s1 m0 l0"></div>
				<div class="switch col s6">
					<i class="material-icons prefix weight">local_florist</i>
					<label class="healthy-label">
              {% if recipe.is_favorite %}
            <input id="is_vegetarian" name="is_vegetarian" type="checkbox" checked />
              {% else %}
             <input id="is_favorite" name="is_favorite" type="checkbox" />
             {% endif %}
            <span class="lever"></span>
            Vegetarian!
          </label>
				</div>
			</div>
			<br>
			<!-- Ingredients -->
			<div id="ingredients" class="ingredients row">
				<h4 class='exo'>Ingredients</h4>
				<h6 class="exo">Please enter each ingredient on a new line. (Press Enter after each ingredient)</h6>
				<br>
				<div class="input-field col s12">
					<i class="material-icons prefix">subject</i>
					<textarea name="ingredients" id="textarea2 ingredients" class="materialize-textarea ingredient-input" value="{{ingredients}}" data-length="120" placeholder="Please enter each ingredient on a new line">{{ingredients}}</textarea>
				</div>
			</div>
			<br>
			<br>
			<!-- Instructions -->
			<div id="instructions" class="instructions row">
				<h4 class='exo'>Instructions</h4>
				<h6 class="exo">Please enter each instruction on a new line. (Press Enter after each step)</h6>
				<br>
				<div class="input-field col s12">
					<i class="material-icons prefix">subject</i>
					<textarea name="instructions" id="textarea2 recipe_ingredients" class="materialize-textarea ingredient-input" value="{{recipe.recipe_instructions}}" data-length="120" placeholder="Please enter each step on a new line">{{instructions}}</textarea>
				</div>
			</div>
			<div class="row">
				<button
          class="btn waves-effect light-green darken1 waves-light"
          type="submit"
          name="action"
        >
          Update Recipe
          <i class="material-icons right">playlist_add</i>
        </button>
			</div>
		</form>
	</div>
</div>

{% endblock %}